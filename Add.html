<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Admin</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:300,400|Roboto:300,400,700">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="assets/fonts/simple-line-icons.min.css">
    <link rel="stylesheet" href="assets/css/Black-Navbar.css">
    <link rel="stylesheet" href="assets/css/Grid-and-List-view-V10-1.css">
    <link rel="stylesheet" href="assets/css/Grid-and-List-view-V10.css">
    <link rel="stylesheet" href="assets/css/Responsive-Form.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>
    <div class="container">
        <div>
            <form id = "add">
                <div class="form-group mb-3">
                    <div id="formdiv">
                        <div class="row" style="margin-right:0px;margin-left:0px;padding-top:24px;">
                            <div class="col-md-8 offset-md-1">
                                <p style="margin-left:2%;font-family:Roboto, sans-serif;font-size:24px;"><strong>Course-Name</strong></p>
                            </div>
                            <div class="col-md-10 offset-md-1"><input id ="course" class="form-control" type="text" style="margin-left:0px;font-family:Roboto, sans-serif;" name="name" placeholder="Name"></div>
                        </div>
                        <div class="row" style="margin-right:0px;margin-left:0px;padding-top:24px;margin-top:-16px;">
                            <div class="col-md-8 offset-md-1">
                                <p style="margin-left:2%;font-family:Roboto, sans-serif;font-size:24px;"><strong>Creator-Creator</strong></p>
                            </div>
                            <div class="col-md-10 offset-md-1"><input id ="creator" class="form-control" type="text" style="margin-left:0px;font-family:Roboto, sans-serif;" name="name" placeholder="Name"></div>
                        </div>
                        <div class="row" style="margin-right:0px;margin-left:0px;padding-top:24px;">
                            <div class="col-md-8 offset-md-1">
                                <p style="margin-left:2%;font-family:Roboto, sans-serif;font-size:24px;"><strong>Category</strong></p>
                            </div>
                            <div class="col-md-10 offset-md-1"><input id ="category" class="form-control" type="text" style="margin-left:0px;font-family:Roboto, sans-serif;" name="name" placeholder="Name"></div>
                        </div>
                        <div class="row" style="margin-right:0px;margin-left:0px;padding-top:24px;">
                            <div class="col-md-8 offset-md-1">
                                <p style="margin-left:2%;font-family:Roboto, sans-serif;font-size:24px;"><strong>Price</strong></p>
                            </div>
                            <div class="col-md-10 offset-md-1"><input id ="price" class="form-control" type="text" style="margin-left:0px;font-family:Roboto, sans-serif;" name="name" placeholder="Name"></div>
                        </div>
                        <div class="row" style="margin-right:0px;margin-left:0px;padding-top:24px;">
                            <div class="col-md-8 offset-md-1">
                                <p style="margin-left:2%;font-family:Roboto, sans-serif;font-size:24px;"><strong>Image-url</strong></p>
                            </div>
                            <div class="col-md-10 offset-md-1"><input id ="imageUrl" class="form-control" type="text" style="margin-left:0px;font-family:Roboto, sans-serif;" name="name" placeholder="Name"></div>
                        </div>
                    </div>
                </div>
            </form>
            <div style="margin-left: 50%;">
                <button id = "addBtn" type="button" class="btn btn-primary my-3">Add Data</button>
            </div>
        </div>
    </div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/Grid-and-List-view-V10.js"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyDr47pbikNwJGQxiKmbSnM7QgMJOv3W130",
            authDomain: "inayat-backend.firebaseapp.com",
            databaseURL: "https://inayat-backend-default-rtdb.firebaseio.com",
            projectId: "inayat-backend",
            storageBucket: "inayat-backend.appspot.com",
            messagingSenderId: "248131097417",
            appId: "1:248131097417:web:ac2066b2578b7eefa20098",
            measurementId: "G-QK3T4RQR8Q"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        import {getDatabase, ref, set, child, update,remove}
        from "https://www.gstatic.com/firebasejs/9.8.1/firebase-database.js"

        const db = getDatabase();

        var course = document.getElementById("course")
        var creator = document.getElementById("creator")
        var category = document.getElementById("category")
        var price = document.getElementById("price")
        var imageUrl = document.getElementById("imageUrl")
        var add = document.getElementById("addBtn")
        
        function insertData(){
            set(ref(db, "content/"+course.value),{
                
                category: category.value,
                contentCreator: creator.value,
                contentName: course.value,
                imageUrl: imageUrl.value,
                price: price.value


            })
            .then(()=>{
                alert("data stored successfully")
            })
            .catch((error)=>{
                alert("unsuccessful, error"+error)
            })
        }

        add.addEventListener('click',insertData)

    </script>
</body>

</html>